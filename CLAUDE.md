# Library Finder Project - Development Guidelines

## プロジェクト概要
図書館蔵書検索システム - 複数の図書館APIを統合したNext.js Webアプリケーション

## 🔧 開発環境ルール

### **サーバー起動ポート**
- **標準**: サーバー起動時はport 5173を使用する（Viteデフォルト）
- **設定**: vite.config.jsで固定済み
- **実行**: `npm run dev`

## 🎯 セッション終了前の必須チェックリスト

### **高優先度（必須実行）**
- [ ] **Git状態確認**: 全ての変更がコミット・プッシュ済み
- [ ] **スクリーンショット実行**: UI変更がある場合の記録
- [ ] **ログファイル更新**: 今回のセッション内容を記録
- [ ] **次回作業項目**: TodoWriteで未完了タスクを明確化

### **中優先度（推奨実行）**
- [ ] **テスト実行**: 主要機能の動作確認
- [ ] **リンター確認**: コード品質の最終チェック
- [ ] **依存関係確認**: 新しいパッケージ追加時の記録

## 📋 自動実行ルール

### **TodoWrite自動追加タイミング**
```javascript
// 以下の条件でTodoWriteに自動追加
const autoAddConditions = {
  newFeature: "新機能実装完了時",
  bugFix: "重要なバグ修正時", 
  gitCommit: "Git commit/push後",
  sessionEnd: "セッション終了30分前",
  multiFileChange: "3つ以上のファイル変更時"
}
```

### **実行コマンド例**
```bash
# スクリーンショット
npm run screenshot  # または node scripts/screenshot-all-pages.js

# テスト実行
npm test

# リンター
npm run lint

# Git確認
git status && git log --oneline -5
```

## 📝 ログ更新項目

### **development-log.md**
- ✅ 今回の作業内容（機能追加/修正/改善）
- ✅ 解決した技術課題と解決方法
- ✅ Git commit履歴（最新5件）
- ✅ パフォーマンス改善項目
- ✅ 次セッションの作業予定

### **cli-conversation-log.md**
- ✅ ユーザーとの会話要約
- ✅ 実行したコマンドとその結果
- ✅ 作成・修正されたファイル一覧
- ✅ 発生した問題と解決プロセス
- ✅ スクリーンショット情報

## 🔧 定期的な品質確認

### **毎セッション終了時**
1. **コード品質**: ESLint警告ゼロを目指す
2. **UI一貫性**: デザインシステムに準拠
3. **パフォーマンス**: 重い処理の最適化確認
4. **アクセシビリティ**: 基本的なa11yチェック

### **週次確認項目**
- 📊 スクリーンショット履歴のレビュー
- 📈 Git履歴の整理とタグ付け
- 📝 ドキュメント更新
- 🧹 不要なファイル・依存関係のクリーンアップ

## 🎪 セッション引き継ぎテンプレート

### **次回セッション用メモ**
```markdown
## [日付] セッション完了報告

### 完了項目
- [x] [具体的な機能/修正内容]
- [x] [テスト/確認事項]

### 継続項目
- [ ] [未完了のタスク]
- [ ] [改善予定の項目]

### 技術メモ
- **新しい知見**: [学習した内容]
- **課題**: [解決すべき問題]
- **次の優先度**: [High/Medium/Low]

### ファイル変更情報
- 新規作成: `[ファイルパス]`
- 修正: `[ファイルパス]` - [変更内容]
- 削除: `[ファイルパス]` - [理由]
```

## 🚨 緊急時対応

### **セッション中断時の最小限チェック**
1. 現在の作業状態をTodoWriteに記録
2. 変更ファイルをstash/commit
3. 重要な設定変更があればメモ保存

### **問題発生時の記録**
- エラーメッセージの全文保存
- 再現手順の詳細記録
- 解決に至るまでのプロセス記録
- 今後の予防策

## 📚 関連ファイル
- `development-log.md` - 技術的な開発ログ
- `cli-conversation-log.md` - 会話・操作ログ
- `scripts/screenshot-*.js` - スクリーンショット自動化
- `.git/logs/` - Git操作履歴

---

**最終更新:** 2025-08-12  
**作成者:** Claude Code (Sonnet 4)  
**用途:** 開発セッション品質向上とプロジェクト継続性確保